---
layout: post
title:  "记录Jekyll博客的搭建过程"
date:   2025-10-05 08:45:30 +0800
categories: 教程
tag: [Jekyll]
---

## 写在前面
本文记录了此Jekyll博客网站的搭建过程，也算是一篇小白向的Jekyll静态博客搭建教程，~~新人写文章别喷太狠（~~

## 安装依赖
Jekyll需要安装Ruby，Windows下可以用[RubyInstaller](https://rubyinstaller.org/downloads/)安装,选择with Devkit的适合你电脑的安装包。

开始安装同意协议后勾上`MSYS2 and MINGW development toolchain`,安装完毕后弹出cmd窗口，回车等待窗口自己关闭。

打开一个新的cmd窗口，输入
```shell
gem install jekyll bundler
```
等待安装完毕后输入
```shell
jekyll -v
```
检查是否成功安装，成功安装会输出版本号（本文编写时为4.4.1）

本站使用了Chirpy主题，构建此主题需要额外安装[Node.js](https://nodejs.org/zh-cn/download),直接下载msi文件安装即可，安装完毕后执行以下命令来测试：
```shell
node -v
npm -v
```
如能正常输出版本号即安装成功。

## 创建仓库
Chirpy的作者非常贴心地为我们准备了[chirpy-starter](https://github.com/cotes2020/chirpy-starter/),访问页面后点击*Use this template*创建一个新仓库，接下来把仓库clone到本地并且安装依赖：
```shell
git clone https://github.com/yourname/yourrepository
bundle
```
这样基本的开发环境就配置好了。

## 配置Cloudflare Pages
使用GitHub page的用户请跳过此章节

进入自己的Cloudflare账户主页，点击左边侧栏中的*计算（Workers）*
![计算（Workers）](/assets/img/2025-09-29-记录搭建过程/计算(Workers).png)
*计算（Workers）*
点击创建应用程序，选择Pages，再选择*导入现有存储库*，连接你的GitHub账户（已连接可忽略），完成后选择刚才创建的仓库
![这里我的仓库名叫anatdxBlog](/assets/img/2025-09-29-记录搭建过程/这里我的仓库名叫anatdxBlog.png)
*这里我的仓库名叫anatdxBlog*
选择好仓库后进入设置构建和部署，构建设置中框架预设选择`Jekyll`，再添加一个环境变量`BUNDLE_WITHOUT = ""`,点击*保存并部署*
![设置构建和部署](/assets/img/2025-09-29-记录搭建过程/设置构建和部署.png)
*字体问题下划线看起来像空格*
构建完毕之后Cloudflare Page就部署完毕了，可以去<https://yourname.pages.dev>查看。

## 修改配置文件
回到本地的开发环境，项目根目录下的`_config.yml`为网站配置文件，可以按需修改，这里贴一份我自己整理的配置翻译对照表

| 配置                    | 说明                      |
| ----------------------- | ------------------------- |
| theme                   | 主题名，不要改动          |
| lang                    | 网站的显示语言            |
| timezone                | 时区                      |
| title                   | 主标题                    |
| tagline                 | 个性签名                  |
| description             | 网站描述                  |
| url                     | 网站链接，注意结尾没有/   |
| github                  | github用户名              |
| twitter                 | twitter用户名             |
| social                  | 社交联系方式              |
| webmaster_verifications | 网站所有权验证码          |
| analytics               | 网站分析                  |
| pageviews               | 浏览计数器                |
| theme_mode              | 默认主题模式（亮色/暗色） |
| cdn                     | cdn链接（不使用请留空）   |
| avatar                  | 头像图片地址              |
| social_preview_image    | 社交平台分享预览图        |
| toc                     | 章节目录开关              |
| comments                | 评论系统                  |
| assets                  | 静态资源自托管开关        |
| pwa                     | 渐进式Web应用开关         |
| paginate                | 每页显示文章数            |
| baseurl                 | 网站基础路径，留空即可    |

修改完毕后执行以下命令来构建网站：
```shell
bundle exec jekyll s
```
构建成功后访问<http://127.0.0.1:4000>即可看到网站效果。

## 写文章
Jekyll支持多种格式，包括Markdown、HTML、Textile等，这里以Markdown为例，文件名格式需为`年-月-日-标题.md`，如`2025-09-29-记录搭建过程.md`，并且要求在文件开头添加yaml格式的头信息
```yaml
---
layout: post
title:  "记录Jekyll博客的搭建过程"
date:   2025-10-04 18:59:45 +0800
categories: 教程
tag: [Jekyll]
---
```
其余部分使用markdown编写即可，文件需放入`_posts`文件夹中，然后push到GitHub仓库，Cloudflare Pages会自动部署网站。

## 踩过的坑
- 如果使用Cloudflare Pages部署，需要删掉仓库里的.github文件夹，不然push之后GitHub会一直报错
- 不需要用官方仓库构建，用starter就可以，需要修改主题文件的时候可以直接去官方仓库拷来需要改的文件，放入starter的对应位置即可生效

## 一点废话
美化下次再写吧 能量耗尽了🫠